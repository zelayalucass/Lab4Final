<app-nav-bar-not-login *ngIf="!isUserLoggedIn"></app-nav-bar-not-login>
<app-nav-bar-login *ngIf="isUserLoggedIn"></app-nav-bar-login>


<div class="contenedor-principal">
    <div class="login-box">
        <div class="row w-100 d-flex justify-content-center">
            <div class="col-lg-6">
                <div *ngIf="!viewSalas">
                    <app-search />
                    <mat-selection-list #shoes [multiple]="false">
                        <div (click)="setTitle(movie)" *ngFor="let movie of movieList"  >
                            <mat-list-option>{{movie.title}}</mat-list-option>
                        </div>
                    </mat-selection-list>
                </div>
                <div *ngIf="viewSalas">
                    <app-search />
                    <mat-selection-list #shoes [multiple]="false">
                        <div (click)="setSala(sala)" *ngFor="let sala of salasList"  >
                            <mat-list-option>{{sala.nombreSala}}</mat-list-option>
                        </div>
                      </mat-selection-list>
                </div>
            </div>
            <div class="col-lg-6 d-flex justify-content-center" style="max-height: 800px;">
                <mat-card class="example-card">
                    <mat-card-header class="d-flex justify-content-center">
                      <mat-card-title>
                        <h2>CineMaster<span class="span-titulo">Plus+</span></h2>
                      </mat-card-title>
                      <mat-card-subtitle>
                        <h3>Alta de Cine</h3>
                      </mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                      <div class="row">
                        <div class="col-lg-12 col-md-6 col-sm-12">
                            <mat-form-field class="w-100">
                                <mat-label>Pelicula</mat-label>
                                <input [value]="showtimeRegister.nombrePelicula" (focus)="onInputFocus(false)" matInput>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-12 col-md-6 col-sm-12">
                            <mat-form-field class="w-100">
                                <mat-label>Sala</mat-label>
                                <input [value]="salaName" matInput (focus)="onInputFocus(true)" [disabled] = "false">
                            </mat-form-field>
                        </div>
                        <div class="col-lg-12 col-md-6 col-sm-12">
                            <mat-form-field class="w-100">
                                <mat-label>Precio</mat-label>
                                <input [(ngModel)]="showtimeRegister.precio" type="number" matInput>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-12 col-md-6 col-sm-12">
                            <mat-form-field class="w-100">
                                <mat-label>Horario</mat-label>
                                <mat-select [(value)]="horarioSeleccionado" (selectionChange)="setHorario()">
                                    <mat-option *ngFor="let horario of horarios" [value]="horario.value">
                                      {{ horario.viewValue }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-12 col-md-6 col-sm-12">
                            <mat-form-field class="w-50">
                                <input matInput [matDatepicker]="datepicker"  placeholder="Selecciona una fecha" [(ngModel)]="showtimeRegister.fecha!">
                                <mat-datepicker-toggle matIconSuffix [for]="datepicker"></mat-datepicker-toggle>
                                <mat-datepicker #datepicker></mat-datepicker>
                            </mat-form-field>
                        </div>
                      </div>
                    </mat-card-content>
                    <mat-card-actions>
                        <div class="row w-100 d-flex justify-content-center">
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <button mat-button style="background-color: #27fa6d; " (click)="registerShowtime()">Guardar</button>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <button mat-button style="background-color: #fa273d; color:aliceblue" (click)="cancel()">Cancelar</button>
                            </div>
                        </div>
                    </mat-card-actions>
                </mat-card>
            </div>
        </div>
    </div>
</div>
